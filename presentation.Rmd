---
title: "Prüfungstutorium QM I"
author: "mit Tobi & Lukas"
date: "Rendered at `r format(Sys.time(), '%F %H:%M')`"
output:
  revealjs::revealjs_presentation:
    css: assets/styles.css
    theme: night
    highlight: pygments
    center: true
    incremental: false
    transition: slide
    widescreen: yes
    background_transition: slide
    self_contained: false
    fig_height: 7
    fig_retina: 2
    fig_width: 12
    lib_dir: "assets"
    reveal_options:
      slideNumber: true
      progress: true
      history: true
  html_document:
    fig_caption: yes
    fig_width: 9
    number_sections: no
    self_contained: no
    lib_dir: "assets"
    toc: yes
    toc_float: true
    code_folding: show
    include:
      after_body: "assets/_footer.html"
---

```{r global_options, include=FALSE}
knitr::opts_chunk$set(fig.path = "assets/plots/", fig.align = "center", 
                      fig.retina = 2, echo = F, warning = F, message = F)
library(sjPlot)
library(dplyr)
library(knitr)
library(ggplot2)
library(tadaatoolbox)
library(mosaic)
library(magrittr)
library(car)
library(formattable)
library(htmlTable)
library(tidyr)

# NGO & FKV Datensatz einlesen
fkv <- haven::read_sav("./data/fkv.sav")

# 3 digits are enough
options(digits = 3)

# selfmade ggplot-Theme laden und global setzen
source("./assets/theme_tut.R")
theme_set(theme_tut(style = "dark"))
```

# Agenda

## 

1. Aufgaben besprechen
2. Fragen klären
3. Angrenzende Theorie besprechen

- Erfahrungsgemäß reicht die Zeit …
    - … **entweder** für alle **Aufgaben**…
    - … **oder** für alle **Fragen**.  
- Choose wisely.

# Aufgabe 1 <br><br> Faktorenanalyse

##

Im Rahmen einer Hauptkomponentenanalyse wurde die folgende Komponenten-Matrix ermittelt:

```{r A01_data, echo = F}
a01 <- data.frame(Merkmal = paste0("A", 1:15),
           K1 = c(-.724, -.294, .665, .639, -.599, .388, .643, -.544,
                  -.274, .571, -.230, .737, .789, .672, .630),
           K2 = c(.351, .642, .310, .2, .622, .39, .398, .429, .407, .334, 
                  .177, 0, .256, -.024, .134),
           K3 = c(.036, -.01, -.311, .053, .001, -.530, -.003, .349, .266,
                  -.323, .412, .389, .104, .520, .366)) 

a01 %>% kable(format = "html")
```

##

a) Was bedeuten die drei Werte innerhalb der zweiten Zeile?
b) Wie groß ist die Kommunalität des durch „A10“ gekennzeichneten Merkmals?
c) Welchen Wert besitzt der drittgrößte Eigenwert?
d) Wie viel Prozent der Gesamtvarianz aller 15 in die Faktorenanalyse einbezogenen (standardisierten) Merkmale wird durch den 3. Faktor erklärt?
e) Warum enthält die Komponenten-Matrix vermutlich nur drei Spalten?
f) Auf welche Faktoren laden die durch „A1“ bis „A15“ gekennzeichneten Merkmale jeweils am höchsten?
g) Gibt es bei den - im Rahmen der Suche nach einer Einfachstruktur - innerhalb von „6)“ vorgenommenen Zuordnungen an irgendeiner Stelle ein Problem, sodass es sinnvoll erscheinen könnte, eine Rotation durchzuführen?

##

Was bedeuten die drei Werte innerhalb der zweiten Zeile?

```{r A01_a}
cols <- with(a01, ifelse(Merkmal == "A2", '#009D20', '#111111'))

htmlTable(as.matrix(a01), col.rgroup = cols)
```

##

Wie groß ist die Kommunalität des durch „A10“ gekennzeichneten Merkmals?

$$0.571^2 +  0.334^2 - 0.323^2 = 0.333$$

> Welchen Wert besitzt der drittgrößte Eigenwert?

Faktor 1 | Faktor 2 | Faktor 3 
---------|----------|---------
`r sum(a01$K1^2)` | `r sum(a01$K2^2)` | `r sum(a01$K3^2)`


> Wie viel Prozent der Gesamtvarianz aller 15 in die Faktorenanalyse einbezogenen (standardisierten) Merkmale wird durch den 3. Faktor erklärt?

$$.036^2 - 0.1^2 - 0.311^2 + 0.053^2 + ... = `r sum(a01$K3^2)`$$

##{data-background="assets/plots/ladungen.png" data-background-size="60%" data-background-position="50% 70%"}

Warum enthält die Komponenten-Matrix vermutlich nur drei Spalten?
Auf welche Faktoren laden die durch „A1“ bis „A15“ gekennzeichneten Merkmale jeweils am höchsten?

##

> Auf welche Faktoren laden die durch „A1“ bis „A15“ gekennzeichneten Merkmale jeweils am höchsten?

![](assets/plots/ladungen_max.png)

##

> Gibt es bei den - im Rahmen der Suche nach einer Einfachstruktur - innerhalb von „f)“ vorgenommenen Zuordnungen an irgendeiner Stelle ein Problem, sodass es sinnvoll erscheinen könnte, eine Rotation durchzuführen?

![](assets/plots/ladungen_pcor.png)
  
